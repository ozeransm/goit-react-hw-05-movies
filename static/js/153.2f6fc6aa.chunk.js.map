{"version":3,"file":"static/js/153.2f6fc6aa.chunk.js","mappings":"mLAEMA,EAAU,mCACVC,EAAW,gCAEJC,EAAU,eAACC,EAAD,uDAAU,GAAGC,EAAb,uDAAmB,GAAnB,OACnBC,EAAAA,EAAAA,IAAA,UAAaJ,GAAb,OAAwBE,EAAxB,oBAA4CH,GAA5C,OAA8D,KAARI,EAAaA,EAAb,iBAA+BA,IADlE,C,4HCJvB,EAAuB,2BAAvB,EAA2D,6BAA3D,EAA+F,2B,SCqD/F,EAjDqB,WACjB,IAAQE,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAcC,EAAAA,EAAAA,SAAOC,EAAAA,EAAAA,OAE3B,GAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACMC,GAAOC,EAAAA,EAAAA,cAAY,WACrB,KACIb,EAAAA,EAAAA,GAAQ,SAAD,OAAUI,IAAWU,MAAK,YAAW,IAATF,EAAQ,EAARA,KAE/BD,EAASC,EACZ,GAGJ,CAFA,MAAMG,GACHC,QAAQC,IAAIF,EACf,CAEJ,GAAC,CAACX,KAEHc,EAAAA,EAAAA,YAAU,WACPN,GACF,GAAC,CAACA,IAEH,IAAMO,EAAUT,GAASA,EAAMU,YAAf,yCAAgEV,EAAMU,aAAgBC,EAEtG,OACI,iCAEI,SAAC,KAAD,CAAMC,UAAWC,EAAUC,GAAIlB,EAAYmB,QAAQf,MAAMgB,KAAzD,sBACA,iBAAKJ,UAAWC,EAAhB,WACI,0BACI,gBAAKI,IAAKR,EAASS,IAAG,OAAElB,QAAF,IAAEA,OAAF,EAAEA,EAAOmB,MAAOC,MAAM,aAEhD,4BACI,+BAAKpB,QAAL,IAAKA,OAAL,EAAKA,EAAOmB,SACZ,yCAAe,4BAAOE,KAAKC,MAA4B,IAAjB,OAALtB,QAAK,IAALA,OAAA,EAAAA,EAAOuB,gBAAsB,iBAA/C,WACf,wCACA,2BAAY,OAALvB,QAAK,IAALA,OAAA,EAAAA,EAAOwB,WAAY,iBAC1B,sCACA,0BAAO,OAACxB,QAAD,IAACA,GAAAA,EAAOyB,OAAOC,OAAf,OAAqC1B,QAArC,IAAqCA,OAArC,EAAqCA,EAAOyB,OAAOE,KAAI,qBAAEC,IAAF,IAAgBC,KAAK,KAApD,qBAGvC,mDACA,gBAAIjB,UAAWC,EAAf,WACI,yBAAI,SAAC,KAAD,CAAMC,GAAE,kBAAapB,EAAb,SAAR,qBACJ,yBAAI,SAAC,KAAD,CAAMoB,GAAE,kBAAapB,EAAb,YAAR,2BAER,SAAC,KAAD,MAGX,C","sources":["components/Api.js","webpack://react-homework-template/./src/components/MovieDetails.module.css?5587","components/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '057e36269a3ddafbb398756699f3ba82';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport const GetData = (endpoint='',query='')=>\n    axios.get(`${BASE_URL}${endpoint}?api_key=${API_KEY}${query==='' ? query : `&query=${query}`}`);\n\n\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"MovieDetails_link__qJeTJ\",\"movdet\":\"MovieDetails_movdet__p5DjC\",\"list\":\"MovieDetails_list__Y00ki\"};","import { Link, Outlet, useLocation, useParams } from \"react-router-dom\"\nimport { useState, useEffect, useCallback, useRef } from \"react\";\nimport { GetData } from \"./Api\";\nimport noImg from \"../img/no-image.jpg\";\nimport css from \"./MovieDetails.module.css\";\nconst MovieDetails = ()=>{\n    const { movieId } = useParams();\n    const locationRef = useRef(useLocation());\n    \n    const [state, setState] = useState(null);\n    const data = useCallback(()=>{\n        try{\n            GetData(`movie/${movieId}`).then(({data})=>{\n                // console.log(data)\n                setState(data);\n            })\n        }catch(error){\n            console.log(error);\n        }\n        \n    },[movieId])\n\n    useEffect(()=>{\n       data();\n    },[data])\n\n    const imgPath = state && state.poster_path ?  `https://image.tmdb.org/t/p/w500${state.poster_path}` : noImg;\n    \n    return(\n        <>\n            \n            <Link className={css.link} to={locationRef.current.state.from}>Go back</Link>\n            <div className={css.movdet}>\n                <div>\n                    <img src={imgPath} alt={state?.title} width=\"400px\"/>\n                </div>\n                <div>\n                    <h3>{state?.title}</h3>\n                    <p>User Score: <span>{Math.floor(state?.vote_average * 10) || 'no user score '}%</span></p>\n                    <h4>Overview: </h4>\n                    <span>{state?.overview || 'no overview'}</span>\n                    <h4>Genres: </h4>\n                    <span>{!state?.genres.length ? 'no genres' :state?.genres.map(({name})=>name).join(' ')}</span>\n                </div>\n            </div>\n            <h4>Additional informaton</h4>\n            <ul className={css.list}>\n                <li><Link to={`/movies/${movieId}/cast`}>Cast</Link></li>\n                <li><Link to={`/movies/${movieId}/reviews`}>Reviews</Link></li>\n            </ul>\n            <Outlet/>\n        </>\n    )\n}\nexport default MovieDetails;"],"names":["API_KEY","BASE_URL","GetData","endpoint","query","axios","movieId","useParams","locationRef","useRef","useLocation","useState","state","setState","data","useCallback","then","error","console","log","useEffect","imgPath","poster_path","noImg","className","css","to","current","from","src","alt","title","width","Math","floor","vote_average","overview","genres","length","map","name","join"],"sourceRoot":""}